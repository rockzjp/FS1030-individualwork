{"ast":null,"code":"var _jsxFileName = \"/Users/jianpingzuo/Desktop/xifanfs1030/secondtry/src/components/BlogAdminEdit/BlogAdminEditForm.js\";\nimport React from 'react';\nimport './Styles.scss';\nimport { Formik, useField, Form } from 'formik';\nimport * as Yup from 'yup';\nimport $ from 'jquery';\n\nconst CustomTextInput = ({\n  label,\n  ...props\n}) => {\n  const [field, meta] = useField(props);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: props.id || props.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }\n  }, label), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    className: \"text-input\"\n  }, field, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }\n  })), meta.touched && meta.error ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 15\n    }\n  }, meta.error) : null);\n};\n\nclass BlogAdminEditForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      classes: {},\n      rows: []\n    };\n  }\n\n  componentDidMount() {\n    this.id = this.getQueryVariable('id');\n  }\n\n  getQueryVariable(variable) {\n    var query = window.location.search.substring(1);\n    var vars = query.split(\"&\");\n\n    for (var i = 0; i < vars.length; i++) {\n      var pair = vars[i].split(\"=\");\n\n      if (pair[0] == variable) {\n        return pair[1];\n      }\n    }\n\n    return false;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Formik, {\n      initialValues: {\n        title: '',\n        content: ''\n      },\n      validationSchema: Yup.object({\n        title: Yup.string().required('Required'),\n        content: Yup.string().required('Required')\n      }),\n      onSubmit: (values, {\n        setSubmitting,\n        resetForm\n      }) => {\n        $.ajax({\n          type: \"post\",\n          url: \"http://localhost:3600/portfolio/update\",\n          dataType: \"json\",\n          contentType: \"application/json\",\n          data: JSON.stringify({\n            type: \"update\",\n            id: this.id,\n            \"info\": values\n          }),\n          success: function (res) {\n            if (res.returnCode === 0) {\n              alert('submit success');\n            } else {\n              alert(res.reutrnMsg);\n            }\n\n            resetForm();\n            setSubmitting(false);\n          },\n          error: function (err) {\n            alert(err);\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }\n    }, props => /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, \"Edit Article\"), /*#__PURE__*/React.createElement(CustomTextInput, {\n      label: \"title\",\n      name: \"title\",\n      type: \"text\",\n      placeholder: \"Please enter title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(CustomTextInput, {\n      label: \"content\",\n      name: \"content\",\n      placeholder: \"Please enter content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, props.isSubmitting ? 'Loading' : 'Submit')));\n  }\n\n}\n\nexport default BlogAdminEditForm;","map":{"version":3,"sources":["/Users/jianpingzuo/Desktop/xifanfs1030/secondtry/src/components/BlogAdminEdit/BlogAdminEditForm.js"],"names":["React","Formik","useField","Form","Yup","$","CustomTextInput","label","props","field","meta","id","name","touched","error","BlogAdminEditForm","Component","constructor","state","classes","rows","componentDidMount","getQueryVariable","variable","query","window","location","search","substring","vars","split","i","length","pair","render","title","content","object","string","required","values","setSubmitting","resetForm","ajax","type","url","dataType","contentType","data","JSON","stringify","success","res","returnCode","alert","reutrnMsg","err","isSubmitting"],"mappings":"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","sourcesContent":["import React from 'react';\nimport  './Styles.scss';\nimport { Formik, useField, Form } from 'formik';\nimport * as Yup from 'yup';\nimport $ from 'jquery';\n\nconst CustomTextInput = ({label, ...props}) =>{\n      const [field, meta] = useField(props);\n      return (\n        <>\n            <label htmlFor={props.id || props.name}>{label}</label>\n            <input className=\"text-input\" {...field} {...props} />\n            {meta.touched && meta.error ? (\n              <div className=\"error\">{meta.error}</div>\n            ) : null}\n\n          </>\n      )\n}\n\n \nclass BlogAdminEditForm extends React.Component {\n \n constructor(props) {\n      super(props);\n      this.state = {classes: {}, rows: [] };\n       \n  }\n\n  componentDidMount() {\n    \n    this.id = this.getQueryVariable( 'id' )\n\n  }\n\n getQueryVariable(variable) {\n   var query = window.location.search.substring(1);\n   var vars = query.split(\"&\");\n   for (var i=0;i<vars.length;i++) {\n           var pair = vars[i].split(\"=\");\n           if(pair[0] == variable){return pair[1];}\n   }\n   return(false);\n}\n\n  render() {\n    \n  return (\n   \n    <Formik\n        initialValues={{\n          title: '',\n          content: ''\n        }}\n\n        validationSchema={Yup.object({\n           title: Yup.string()\n            .required('Required'),\n\n            content: Yup.string()\n            .required('Required'),\n             \n        })}\n\n        onSubmit={(values, {setSubmitting,resetForm}) => {\n           \n            $.ajax({\n              type: \"post\",\n              url: \"http://localhost:3600/portfolio/update\" ,\n              dataType : \"json\",\n              contentType : \"application/json\", \n              data: JSON.stringify({type:\"update\",id:this.id,\"info\":values}),\n              success: function (res) {\n                if(res.returnCode === 0)\n                {\n                    alert('submit success');\n                }\n                else\n                {\n                    alert(res.reutrnMsg)\n                }\n \n                resetForm();\n                setSubmitting(false);\n\n              },\n              error:function(err)\n              {\n                alert(err);\n              }\n            })\n  \n        }}\n    \n    \n    >\n    \n\n    {props => (\n      <Form>\n        <h1>Edit Article</h1>\n        <CustomTextInput label=\"title\" name=\"title\" type=\"text\" placeholder=\"Please enter title\" />\n        <CustomTextInput label=\"content\" name=\"content\" placeholder=\"Please enter content\" />\n        <button type=\"submit\">{props.isSubmitting ? 'Loading' : 'Submit'}</button>\n      </Form>\n\n    )}\n    </Formik>\n   \n  );\n  }\n\n}\n \nexport default BlogAdminEditForm;\n"]},"metadata":{},"sourceType":"module"}